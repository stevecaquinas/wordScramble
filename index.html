<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Word Scramble Game</title>
  <style>
  body {
    background-color: #1e1e1e;
    color: white;
    font-family: sans-serif;
    text-align: center;
    padding: 20px;
    margin: 0;
  }

  .center-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  .game-container {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    grid-template-rows: repeat(7, 1fr);
    gap: 1vw;
    max-width: 90vw;
    max-height: 90vw;
  }

  .cell, .btn {
    width: 12vw;
    height: 12vw;
    max-width: 60px;
    max-height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 5vw;
    font-weight: bold;
    border-radius: 6px;
    transition: transform 0.3s;
  }

  .cell {
    background-color: #333;
    border: 2px solid #555;
  }

  .cell.correct {
    background-color: green;
  }

  .btn {
    background-color: #444;
    color: white;
    border: none;
    cursor: pointer;
  }

  .empty {
    background: transparent;
  }

  #moves {
    margin-top: 20px;
    font-size: 1.2em;
  }

  #newGameBtn {
    background-color: green;
    margin-top: 20px;
    padding: 1em 2em;
    font-size: 1.5em;
    min-width: 180px;
  }

  /* Animation classes */
  .slide-right { animation: slideRight 0.3s; }
  .slide-left { animation: slideLeft 0.3s; }
  .slide-up { animation: slideUp 0.3s; }
  .slide-down { animation: slideDown 0.3s; }

  @keyframes slideRight {
    0% { transform: translateX(0); }
    100% { transform: translateX(65px); }
  }
  @keyframes slideLeft {
    0% { transform: translateX(0); }
    100% { transform: translateX(-65px); }
  }
  @keyframes slideDown {
    0% { transform: translateY(0); }
    100% { transform: translateY(65px); }
  }
  @keyframes slideUp {
    0% { transform: translateY(0); }
    100% { transform: translateY(-65px); }
  }

  /* Media Queries for larger screens */
  @media (min-width: 768px) {
    .cell, .btn {
      width: 50px;
      height: 50px;
      font-size: 20px;
    }
  }

  @media (min-width: 1024px) {
    .game-container {
      gap: 6px;
      max-width: none;
      max-height: none;
    }

    .cell, .btn {
      width: 60px;
      height: 60px;
      font-size: 24px;
    }
  }
  </style>

</head>
<body>
  <h1>Word Scramble</h1>
  <p>The grid below contains five 5-letter words horizontally.</p>
  <p>Use the arrows to rotate rows and columns!</p>
  <div class="center-container">
    <div class="game-container" id="game"></div>
    <p id="moves">Moves: 0</p>
    <button class="btn" id="newGameBtn">New Game</button>
  </div>

  <script>
    const words = ["ABACK","ABASE","ABATE","ABIDE","ABODE","ABORT","ABOUT","ABUSE","ABUZZ","ACHOO","ACTOR","ACUTE","ADAPT","ADDED","ADMIN","ADMIT","ADOBE","ADOPT","ADORN","ADULT","AFFIX","AFOOT","AFOUL","AFTER","AGAIN","AGENT","AGING","AGLOW","AGONY","AGREE","AHEAD","AHOLD","AIDED","AIMED","AIRED","AISLE","ALARM","ALERT","ALIAS","ALIEN","ALIKE","ALLAY","ALLOT","ALLOY","ALOFT","ALONE","ALOOF","ALOUD","ALPHA","AMAZE","AMBER","AMEND","AMINO","AMISS","AMONG","AMOUR","AMUSE","ANGEL","ANGER","ANGLE","ANGRY","ANIME","ANKLE","ANNUL","ANVIL","APART","APNEA","APPLE","APPLY","APRON","ARENA","ARMED","ARMOR","AROSE","ARRAY","ARSON","ARTSY","ASIDE","ASKED","ASKEW","ASSET","ATONE","AUDIO","AUDIT","AUNTY","AVAIL","AVERT","AVOID","AWAIT","AWAKE","AWARD","AWARE","AWASH","AWFUL","AWOKE",
                   "BABEL","BACON","BADDY","BADGE","BADLY","BAGEL","BAGGY","BAKED","BAKER","BALER","BALKY","BALMY","BANDY","BARED","BARMY","BARON","BASED","BASIC","BASIL","BASIN","BATCH","BATON","BATTY","BEACH","BEADY","BEAKY","BEAMY","BEARD","BEAST","BEBOP","BEECH","BEGAN","BEGIN","BEGOT","BEIGE","BELCH","BELLE","BELLY","BELOW","BENCH","BENDY","BERTH","BESET","BIBLE","BICEP","BIDET","BIKED","BIKER","BINGE","BINGO","BIPOD","BIRCH","BIRTH","BISON","BLACK","BLADE","BLAME","BLANK","BLAZE","BLEAK","BLEED","BLEEP","BLEND","BLESS","BLEST","BLIMP","BLIND","BLING","BLINK","BLISS","BLOAT","BLOCK","BLOND","BLOOD","BLOOM","BLOWN","BLOWY","BLUFF","BLUNT","BOARD","BOAST","BOGUS","BONED","BOOST","BOOTH","BOOZE","BORED","BORNE","BOUND","BOWEL","BOXED","BOXER","BRACE","BRAID","BRAIL","BRAIN","BRAKE","BRAND","BRASS","BRAWL","BREAD","BREED","BRIBE","BRIDGE","BRING","BROAD","BROKE","BROWN","BRUSH","BRUTE","BUDGE","BUILT","BULLY","BUMPY","BUNCH","BUNNY","BURNT","BUSHY","BUYER",
                   "CABIN","CABLE","CACHE","CADDY","CADET","CAKED","CALVE","CAMEL","CAMEO","CANAL","CANDY","CANOE","CANON","CARGO","CAROL","CARRY","CARVE","CASED","CATCH","CAUSE","CAVED","CEASE","CEDAR","CELLO","CHAIN","CHAIR","CHALK","CHAMP","CHART","CHASE","CHEAP","CHEAT","CHECK","CHEEK","CHEER","CHESS","CHEST","CHEWY","CHICK","CHIEF","CHILD","CHIME","CHIRP","CHIVE","CHOIR","CHOKE","CHOMP","CHORE","CHUCK","CHURN","CHUTE","CIDER","CIGAR","CLAIM","CLASP","CLASS","CLEAN","CLEAT","CLIFF","CLIMB","CLOAK","CLONE","CLOSE","CLOTH","CLOUD","CLOUT","CLOWN","COAST","CODED","COLOR","COMBO","COMFY","CONDO","CORAL","CORNY","COUCH","COUGH","COULD","COUNT","COVER","CRACK","CRAFT","CRANE","CRAWL","CRAZE","CRAZY","CREAM","CRIED","CRIME","CRISP","CROAK","CROWD","CROWN","CRUDE","CRUMB","CUPID","CURED","CURLY","CURRY","CURVE","CURVY","CUTER",
                   "DADDY","DAILY","DAIRY","DAISY","DANCE","DANDY","DATED","DEALT","DEATH","DEBUT","DECAF","DECAY","DECOR","DECOY","DEITY","DELAY","DELTA","DELVE","DEMON","DENIM","DENSE","DEPTH","DERBY","DETER","DETOX","DIARY","DICED","DINGY","DIRTY","DITCH","DITTO","DITTY","DODGE","DOGGY","DOING","DONOR","DOPED","DOTED","DOTTY","DOUGH","DOWRY","DOZER","DRAFT","DRAIN","DRAKE","DRAMA","DRANK","DRAPE","DRAWL","DRAWN","DREAD","DREAM","DRESS","DRIED","DRIER","DRILL","DRINK","DRIVE","DROID","DRONE","DROOL","DROVE","DROWN","DRUID","DRUNK","DRYER","DUNCE","DUPED","DUSTY","DUVET","DWARF","DWEEB","DWELL","DYING",
                   "EAGER","EAGLE","EARLY","EARTH","EASED","EASEL","EATEN","EATER","EBONY","EIGHT","EJECT","ELATE","ELBOW","ELDER","ELECT","ELITE","ELOPE","ELUDE","EMAIL","EMBED","EMBER","EMEND","EMOJI","EMOTE","EMPTY","ENACT","ENDED","ENEMA","ENEMY","ENJOY","ENTER","ENTRY","EQUAL","EQUIP","ERASE","ERECT","ERODE","ERROR","ERUPT","ESSAY","ETHER","ETHIC","ETUDE","EVENT","EVERY","EXACT","EXCEL","EXILE","EXIST","EXPEL","EXTRA",
                   "FABLE","FACED","FACET","FAINT","FAIRY","FALSE","FAMED","FANCY","FARCE","FATAL","FATED","FATTY","FAVOR","FAZED","FEAST","FECAL","FEINT","FEIST","FELLA","FELON","FENCE","FERRY","FETAL","FETCH","FEVER","FIBER","FIELD","FIEND","FIFTH","FIFTY","FIGHT","FILTH","FINAL","FINED","FIRED","FIRST","FISHY","FITCH","FIVER","FIXED","FIXER","FIZZY","FLAKE","FLAME","FLANK","FLARE","FLASH","FLASK","FLEET","FLESH","FLING","FLIRT","FLOAT","FLOCK","FLOOD","FLOOR","FLORA","FLOUR","FLOWN","FLUFF","FLUID","FLUKE","FLUME","FLUSH","FLUTE","FLYER","FOAMY","FOCUS","FOGGY","FORCE","FORGE","FORGO","FORTH","FORTY","FORUM","FOUND","FRAIL","FRAME","FRANK","FRAUD","FREAK","FREED","FRESH","FRIED","FRISK","FROCK","FRONT","FROST","FROWN","FRUIT","FRYER","FUDGE","FULLY","FUMED","FUNNY","FUSED","FUSSY","FUZZY",
                   "GABLE","GAMED","GAMER","GASSY","GATED","GAUNT","GEEKY","GENIE","GENRE","GENUS","GHOST","GIANT","GIDDY","GIRLY","GIVEN","GLADE","GLARE","GLASS","GLAZE","GLEAN","GLIDE","GLOAT","GLOBE","GLOOM","GLORY","GLOSS","GLOVE","GLUED","GNARL","GNOME","GOING","GOOFY","GOOPY","GOOSE","GORED","GOUGE","GRACE","GRADE","GRAIN","GRAND","GRANT","GRAPE","GRAPH","GRASP","GRASS","GRAVY","GRAZE","GREAT","GREED","GREEN","GREET","GRIEF","GRILL","GRIND","GRIPE","GROAN","GROOM","GROPE","GROSS","GROUP","GROVE","GROWL","GROWN","GRUEL","GRUNT","GUARD","GUESS","GUEST","GUIDE","GUILD","GUILT","GUMMY","GUTSY",
                   "HABIT","HAIRY","HALVE","HANDY","HAPPY","HARDY","HARSH","HATCH","HATED","HATER","HAUNT","HAVEN","HAVOC","HAZED","HEARD","HEART","HEAVY","HEDGE","HEIST","HENCE","HERBY","HIKED","HIKER","HINGE","HIPPO","HIPPY","HIRED","HITCH","HOARD","HOBBY","HOLED","HOLEY","HOMED","HONOR","HORDE","HORSE","HOSED","HOUND","HOVER","HOWDY","HUBBY","HUMAN","HUMID","HUMOR","HUMPH","HURRY",
                   "ICIER","ICING","IDEAL","IDIOT","IGLOO","IMAGE","INBOX","INCUR","INDEX","INEPT","INKED","INLET","INNER","INPUT","INSET","INTEL","INTRO","IODIN","IONIC","IRATE","IRONY","ISSUE","IVORY",
                   "JADED","JANKY","JAUNT","JELLY","JERKY","JEWEL","JIFFY","JIGGY","JIVED","JOINT","JOKED","JOKER","JOKEY","JOLLY","JUDGE","JUICE","JUICY","JUMBO","JUMPY","JUNKY","JUROR",
                   "KARMA","KAYAK","KEBAB","KEYED","KIDDO","KIDDY","KIOSK","KITED","KNACK","KNEEL","KNELL","KNIFE","KNOCK","KNOWN","KOALA",
                   "LABEL","LABOR","LACED","LAGER","LAIRY","LAPSE","LARGE","LATER","LAUGH","LAWED","LAYER","LEACH","LEADY","LEAKY","LEARN","LEASE","LEASH","LEAST","LEAVE","LEDGE","LEECH","LEGAL","LEGGY","LEGIT","LEMON","LEMUR","LETUP","LEVEL","LEVER","LIBEL","LIBRA","LIGHT","LIKED","LIMIT","LINED","LINEN","LINER","LINGO","LIVED","LIVER","LOATH","LOBBY","LOCAL","LODGE","LOGIC","LOGIN","LONER","LOOSE","LOSER","LOSSY","LOTTO","LOTUS","LOUSY","LOVED","LOVER","LOWER","LOYAL","LUCID","LUCKY","LUMPY","LUNCH","LURCH","LURED","LYING","LYMPH","LYRIC",
                   "MACHO","MACRO","MADAM","MADLY","MAFIA","MAGIC","MAJOR","MAKER","MANGO","MANIA","MANIC","MANLY","MAPLE","MARCH","MARRY","MARSH","MASON","MAXIM","MAYBE","MAYOR","MEANT","MEATY","MEDAL","MELON","MERCH","MERCY","MERGE","MERIT","MERRY","MESSY","METAL","METER","METRO","MICRO","MIDST","MIGHT","MILKY","MIMIC","MINCE","MINOR","MINTY","MIRKY","MIXED","MIXER","MOCHA","MODAL","MODEL","MODEM","MOGUL","MOIST","MOMMY","MONTH","MOOSE","MORAL","MOTEL","MOTOR","MOTTO","MOUND","MOUNT","MOURN","MOUSE","MOUTH","MOVED","MOVER","MOVIE","MUCKY","MUCUS","MUDDY","MULTI","MUMMY","MUSIC","MUTED",
                   "NACHO","NAIVE","NAKED","NAMED","NANNY","NASAL","NASTY","NATAL","NAVEL","NEEDY","NERDY","NERVE","NERVY","NEVER","NEWLY","NICER","NICHE","NIECE","NIGHT","NINTH","NOBLE","NOBLY","NOISY","NOMAD","NORTH","NOSEY","NOTED","NUDGE","NUKED","NURSE","NUTTY","NYLON",
                   "OASIS","OBESE","OBJECT","OCEAN","ODDLY","OFFAL","OFFER","OFTEN","OILED","OLDER","OLIVE","OMEGA","ONION","ONSET","OPERA","OPIUM","ORGAN","OUGHT","OUNCE","OUTER","OVARY","OVERT","OWING","OWNED","OWNER","OXIDE","OZONE",
                   "PACED","PACER","PAGED","PAGER","PAINT","PANDA","PANEL","PANIC","PANTY","PAPER","PARSE","PARTY","PASTA","PASTE","PASTY","PATCH","PEACE","PEACH","PEARL","PECAN","PEDAL","PENNY","PERIL","PERKY","PESTO","PETAL","PHOTO","PIANO","PIECE","PILED","PINCH","PITCH","PIVOT","PIZZA","PLACE","PLAIN","PLANE","PLANK","PLANT","PLATE","PLUMP","POACH","POKED","POOCH","POUND","POWER","PRANK","PRICE","PRIDE","PRINT","PRIOR","PRISM","PRIVY","PRIZE","PROBE","PROUD","PRUDE","PUFFY","PULSE","PUNCH","PUPPY","PUREE","PURGE","PURSE","PUTTY","PYLON",
                   "QUADS","QUAKE","QUEEN","QUERY","QUEST","QUEUE","QUICK","QUIET","QUILL","QUILT","QUIRK","QUITE","QUOTA","QUOTE",
                   "RABID","RACED","RACER","RADAR","RADIO","RAGED","RAINY","RAKED","RALLY","RAMEN","RANCH","RANGE","RAPID","RASPY","RATED","RATIO","RAVED","RAVEN","RAZER","RAZOR","REACT","READY","REALM","REBEL","REBID","REBUY","RECAP","RECON","REHAB","REIGN","RELAY","RELIC","REMIT","REMIX","RENAL","RENEW","REPAY","REPLY","RESET","RESIN","RETRO","RETRY","REUSE","REVEL","RHINO","RHYME","RIDGE","RIFLE","RIGHT","RIGID","RINSE","RIPEN","RISKY","RIVER","ROAST","ROBOT","ROCKY","RODEO","ROGUE","ROPED","ROUGH","ROUND","ROUSE","ROUTE","ROVER","ROYAL","RUBLE","RUGBY","RULED","RULER","RUMOR","RUNNY","RURAL","RUSTY",
                   "SABER","SADLY","SAFER","SAINT","SALAD","SALON","SALSA","SALTY","SANDY","SATIN","SAUCE","SAUCY","SAUNA","SAVED","SAVER","SAVOR","SCALD","SCALE","SCALP","SCARE","SCARF","SCARY","SCENE","SCENT","SCOFF","SCONE","SCOPE","SCORE","SCORN","SCOUR","SCRAM","SCRUB","SCUBA","SCUFF","SEIZE","SENSE","SERVE","SETUP","SEVEN","SEVER","SEWER","SHACK","SHADE","SHAFT","SHAKE","SHALL","SHAME","SHAPE","SHARK","SHELF","SHELL","SHIFT","SHINE","SHINY","SHIRT","SHOCK","SHOOT","SHORE","SHOUT","SHRED","SHRUG","SIDED","SILKY","SILLY","SINCE","SINUS","SITED","SIXTH","SIXTY","SIZED","SKATE","SKILL","SLACK","SLANG","SLAVE","SLEEP","SLEET","SLEPT","SLICK","SLIDE","SLIME","SLING","SLOPE","SLOSH","SLOTH","SLUNG","SLURP","SLUSH","SMALL","SMART","SMASH","SMEAR","SMELL","SMELT","SMILE","SMOKE","SMOKY","SNACK","SNAIL","SNAKE","SNARE","SNOOP","SNORE","SNUFF","SOBER","SOFTY","SOLVE","SOUND","SPACE","SPADE","SPARE","SPARK","SPEAK","SPEAR","SPEED","SPICY","SPIED","SPIKY","SPILL","SPINE","SPITE","SPLIT","SPOIL","SPOKE","SPOOF","SPOON","SPORT","SPOUT","SQUAD","SQUID","STACK","STAFF","STAGE","STAIR","STALK","STAMP","STARE","START","STASH","STATE","STEAK","STEAL","STEAM","STEEL","STEEP","STICK","STIFF","STING","STINK","STINT","STOCK","STOKE","STOMP","STONE","STOOD","STOOL","STOOP","STORE","STORM","STORY","STOVE","STRAW","STRAY","STUCK","STUFF","STUNT","STYLE","SUGAR","SUITE","SUNNY","SUPER","SUSHI","SWEAT","SWEET","SWELL","SWEPT","SWIFT","SWING","SWIPE","SWISH","SWORD","SWORN","SYRUP",
                   "TABLE","TABOO","TAKEN","TAKER","TALON","TANGO","TARDY","TASTE","TASTY","TAXED","TEACH","TEASE","TEETH","TENET","TENTH","THANK","THEFT","THEIR","THEME","THERE","THESE","THICK","THIEF","THIGH","THING","THINK","THORN","THOSE","THREE","THREW","THROW","THUGS","THUMB","TIBIA","TIGER","TIGHT","TIMER","TINGE","TIPSY","TIRED","TITAN","TITLE","TOAST","TOKEN","TONIC","TOOTH","TOPIC","TORCH","TORSO","TOTAL","TOUCH","TOUGH","TOWEL","TOWER","TOXIC","TRACE","TRACT","TRADE","TRAIN","TRAIT","TRAMP","TRASH","TREAD","TREND","TRIAL","TRICK","TRIED","TRUCE","TRUCK","TRULY","TRUNK","TRUTH","TULIP","TUMMY","TUNED","TUNER","TURBO","TWEAK","TWEED","TWICE","TWIRL","TWIST","TYPED",
                   "ULCER","ULTRA","UNCLE","UNDER","UNDUE","UNFIT","UNIFY","UNION","UNITE","UNITY","UNTIE","UNTIL","UNZIP","UPEND","UPPER","UPSET","URBAN","URINE","USAGE","USING","USURP",
                   "VAGUE","VALET","VALID","VALUE","VALVE","VAPOR","VAULT","VEGAN","VENOM","VENUE","VERGE","VERVE","VIDEO","VILLA","VINYL","VIOLA","VIPER","VIRAL","VISIT","VITAL","VIVID","VOCAL","VOICE","VOMIT","VOUCH",
                   "WACKY","WADED","WAGER","WAGON","WAIST","WARTY","WASHY","WASTE","WATCH","WATER","WAVED","WAVEY","WAXED","WEARY","WEIGH","WEIRD","WENCH","WHACK","WHALE","WHEAT","WHEEL","WHERE","WHICH","WHILE","WHISK","WHITE","WHOLE","WHOOF","WHOSE","WIDEN","WIDER","WIDOW","WIDTH","WIELD","WIMPY","WINCE","WINCH","WINDY","WINED","WIPED","WIPER","WISPY","WITCH","WITTY","WOKEN","WOMAN","WOMEN","WONKY","WOOZY","WORDY","WORLD","WORST","WOULD","WOUND","WREAK","WRECK","WRING","WRIST","WRITE","WRONG","WROTE",
                   "XENON",
                   "YACHT","YAHOO","YAPPY","YEARN","YEAST","YIELD","YIKES","YOUNG","YOURS","YUCKY","YUMMY","YUPPY",
                   "ZEBRA","ZESTY","ZILCH","ZINGY","ZIPPY"

    ];

    function pickRandomWords(wordList, count) {
      const shuffled = [...wordList].sort(() => Math.random() - 0.5);
      return shuffled.slice(0, count);
    }

    let selectedWords = pickRandomWords(words, 5);
    let originalGrid = selectedWords.map(w => w.split(""));
    let grid = JSON.parse(JSON.stringify(originalGrid));
    let moves = 0;
    let locked = false; // <--- ADDED

    const game = document.getElementById("game");
    const movesEl = document.getElementById("moves");
    const newGameBtn = document.getElementById("newGameBtn");

    function createGrid() {
      game.innerHTML = "";
      for (let row = 0; row < 7; row++) {
        for (let col = 0; col < 7; col++) {
          if (row === 0 && col >= 1 && col <= 5) {
            addButton("↑", () => animateCol(col - 1, "up"));
          } else if (row === 6 && col >= 1 && col <= 5) {
            addButton("↓", () => animateCol(col - 1, "down"));
          } else if (col === 0 && row >= 1 && row <= 5) {
            addButton("←", () => animateRow(row - 1, "left"));
          } else if (col === 6 && row >= 1 && row <= 5) {
            addButton("→", () => animateRow(row - 1, "right"));
          } else if (row >= 1 && row <= 5 && col >= 1 && col <= 5) {
            const div = document.createElement("div");
            div.className = "cell";
            div.dataset.row = row - 1;
            div.dataset.col = col - 1;
            const char = grid[row - 1][col - 1];
            div.textContent = char;
            if (char === originalGrid[row - 1][col - 1]) {
              div.classList.add("correct");
            }
            game.appendChild(div);
          } else {
            const div = document.createElement("div");
            div.className = "cell empty";
            game.appendChild(div);
          }
        }
      }
    }

    // MODIFIED
    function addButton(symbol, action) {
      const btn = document.createElement("button");
      btn.className = "btn";
      btn.textContent = symbol;
      btn.onclick = () => {
        if (locked) return; // <--- ADDED
        action();
      };
      game.appendChild(btn);
    }

    function animateRow(row, direction) {
      const cells = document.querySelectorAll(`.cell[data-row='${row}']`);
      cells.forEach(cell => {
        cell.classList.add(direction === "right" ? "slide-right" : "slide-left");
      });
      setTimeout(() => {
        direction === "right" ? rotateRowRight(row) : rotateRowLeft(row);
        update();
      }, 300);
    }

    function animateCol(col, direction) {
      const cells = document.querySelectorAll(`.cell[data-col='${col}']`);
      cells.forEach(cell => {
        cell.classList.add(direction === "down" ? "slide-down" : "slide-up");
      });
      setTimeout(() => {
        direction === "down" ? rotateColDown(col) : rotateColUp(col);
        update();
      }, 300);
    }

    function rotateRowRight(row) {
      const last = grid[row][4];
      for (let i = 4; i > 0; i--) {
        grid[row][i] = grid[row][i - 1];
      }
      grid[row][0] = last;
      moves++;
    }

    function rotateRowLeft(row) {
      const first = grid[row][0];
      for (let i = 0; i < 4; i++) {
        grid[row][i] = grid[row][i + 1];
      }
      grid[row][4] = first;
      moves++;
    }

    function rotateColDown(col) {
      const last = grid[4][col];
      for (let i = 4; i > 0; i--) {
        grid[i][col] = grid[i - 1][col];
      }
      grid[0][col] = last;
      moves++;
    }

    function rotateColUp(col) {
      const first = grid[0][col];
      for (let i = 0; i < 4; i++) {
        grid[i][col] = grid[i + 1][col];
      }
      grid[4][col] = first;
      moves++;
    }

    function scramble() {
      locked = false; // <--- ADDED
      selectedWords = pickRandomWords(words, 5);
      originalGrid = selectedWords.map(w => w.split(""));
      grid = JSON.parse(JSON.stringify(originalGrid));
      for (let i = 0; i < 15; i++) {
        const r = Math.floor(Math.random() * 5);
        const c = Math.floor(Math.random() * 5);
        Math.random() > 0.5 ? rotateRowRight(r) : rotateRowLeft(r);
        Math.random() > 0.5 ? rotateColDown(c) : rotateColUp(c);
      }
      moves = 0;
      update();
    }

    function update() {
      createGrid();
      movesEl.textContent = `Moves: ${moves}`;
      checkWin();
    }

    // MODIFIED
    function checkWin() {
      const won = grid.every((row, i) => row.join("") === originalGrid[i].join(""));
      if (won) {
        locked = true; // <--- ADDED
        let feedback = "";
        if (moves < 50)
          feedback = "You are a GENIUS!";
        else if (moves < 100)
          feedback = "You are a VERY SMART PERSON!";
        else if (moves < 200)
          feedback = "You are a SMART PERSON!";
        else if (moves < 300)
          feedback = "You are DEEPLY AVERAGE!";
        else
          feedback = "Wow you showed great commitment there!";

        setTimeout(() => alert(`🎉 You solved it in ${moves} moves!\n${feedback}`), 100);
      }
    }

    window.addEventListener("DOMContentLoaded", () => {
      scramble();
    });

    newGameBtn.onclick = scramble;
  </script>
</body>
</html>
